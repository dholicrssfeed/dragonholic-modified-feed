# dh_mappings.py

# Mapping dictionary for translator names to their list of novel titles.
TRANSLATOR_NOVEL_MAP = {
    "Cannibal Turtle": [
        "Quick Transmigration: The Villain Is Too Pampered and Alluring"
    ],
    "Bluesky": [
        "People who eat melon are in 70",
        "Help others? It’s better to help yourself"
    ],
    "alara": [
        "Fever Break",
        "My Husband Became the Most Powerful Minister"
    ],
    "Snowbun": [
        "Rebirth of the Excellent Daughter of the Marquis Household (REDMH)",
        "The Eldest Legitimate Daughter is Both Beautiful and Valiant (ELDBBV)"
    ],
    "Kat": [
        "After Rebirth, I Married my Archenemy",
        "Giving Interstellar Players a Horror Ghost Game Shock",
        "Transmigrated into the Villain's Cannon Fodder Ex-Wife (Transmigrated into a Book)"
    ],
    "silverriver": [
        "To Those Who Regretted After I Died"
    ],
    "tscatthed": [
        "Phoenix Girl in the 1990s"
    ],
    "Eastwalk": [
        "I Am Being Mistaken for a Genius Strategist"
    ],
    "Bunnyyy": [
        "The Wind Heard Her Confession"
    ],
    "UchihaDavinchi": [
        "Disappointing Teleportation Magic ~ Even Though The Movement Distance Is Only 1 Millimeter, I Will Rise Through Ingenuity ~",
        "Reincarnated as a Farmer Gamer: Rising to the Top with the Evolution of the Weakest Job that Only I Know About!?",
        "The Great Sage Who Did not Remain in Legend",
        "After Retirement, Living a Stud Life in Another World",
        "Bondage and Marriage",
        "Clap",
        "Double Junk",
        "I Have been Reincarnated As a Lazy, Arrogant Noble, but When I Destroyed The Scenario Through Effort, I Became The Most Powerful With Extraordinary Magical Power",
        "My Bloody Valentine",
        "Reasonable Loss",
        "Red Dot",
        "The Goddess Granted Me the [Hatching] Skill and Somehow I Became the Strongest Tamer, Commanding Mythical and Divine Beasts",
        "The Second Son of The Marquis Runs Away from Home ~ Lacking Talent, He Abandons Everything and Becomes an Adventurer ~"
    ],
    "Athena": [
        "The Tyrant's Happy Ending",
        "When I started High School, My Childhood Friend, who had suddenly become distant and cold, was harassed by a stranger. I stepped in to help, and as a result, from the following day, My Childhood Friend's behavior became unusual.",
        "A Forest flowing with Milk and Honey",
        "The Sickly Villainess: No, I Wasn’t Poisoned! I'm Just Frail!",
        "Zion's Garden",
        "The Young Male Protagonist Who is Destined for Ruin Fell for Me",
        "The Final Task of the Forsaken Saint: A Command to Marry the Barbarian Count",
        "When the Mid-Boss Villainous Noble Recalls Memories of a Past Life and Gains Game Knowledge. I Will Never Accept a Future Where I'm Called the Jealous Earl"
    ],
    "Huangluan De Bai Huangshulang": [
        "Legend Of The Frost Blade"
    ],
    "Frian": [
        "Global Descent to Sky Islands: Getting a God-level Talent from the Start"
    ],
    "Luojiu": [
        "Diary of my Ex",
        "Gloria von Caldwell's Condemnation and Revenge"
    ],
    "An'er": [
        "After Transmigrating, I and the Female Lead Both Found It 'Really Fragrant' (GL)",
        "The Female Lead is Looking at Me Differently (GL)",
        "A Moment Too Late (GL)",
        "The Male Lead's Harem Belongs to Me (GL)",
        "After Transmigrating, I Married the Male Lead’s Sister (GL)",
        "Confession to You in Early Summer (GL)"
    ],
    "amee": [
        "Guide to the Fallen World"
    ],
    "Sunnie": [
        "Osratida",
        "The Three baby mining brothers"
    ],
    "Yumari": [
        "After Marrying the Disabled Prince (BG)"
    ],
    "silversoul": [
        "I Want to Avoid the Bad Ending"
    ],
    "ciasuraimu": [
        "If You Want To Frame Me As a Villainess, I Will Be The Villainess. However.",
        "Proof of the Demon Lord's Innocence"
    ],
    "Yijuan": [
        "Waiting for the Stars to Fall",
        "I Am Just Sad That I Can’t Grow Old With You"
    ],
    "emberblood": [
        "In this life, I will no longer be a scumbag to my childhood sweetheart",
    ],
    "Beryline": [
        "Little Blind Girl"
    ],
    "Sia": [
        "With Multiple Babies, Who Still Wants to Be the Marquess’s Wife?"
    ],
    "Thyllia": [
        "The Young Marquis Regrets Too Late"
    ],
    "kuro": [
        "The Unspoken Vow"
    ],
     "Niang'er": [
        "Mistakenly Treated The Princess As A Concubine"
    ],
     "Wolffy": [
        "Honkai: Star Rail, My Journey with Tom"
    ],
     "Eris81194": [
        "Did Mrs. Sheng Got Divorced Today?",
        "The Strongest Delivery Man",
        "Sweet Hunting Ground [GB]"
    ]
}

# Mapping for Discord role IDs.
DISCORD_ROLE_ID_MAP = {
    "Cannibal Turtle": "<@&1286581623848046662>",
    "Bluesky": "<@&1291243923238555749>",
    "alara": "<@&1291243990275985441>",
    "Snowbun": "<@&1291253678103330829>",
    "Kat": "<@&1295572430370377779>",
    "silverriver": "<@&1295572692853854228>",
    "tscatthed": "<@&1295572751775436911>",
    "Eastwalk": "<@&1295581200706179112>",
    "Bunnyyy": "<@&1302831622009126923>",
    "UchihaDavinchi": "<@&1309162305745064038>",
    "Athena": "<@&1314845173284343809>",
    "Huangluan De Bai Huangshulang": "<@&1315579651237613589>",
    "Frian": "<@&1315580646298750976>",
    "Luojiu": "<@&1315579753604055041>",
    "An'er": "<@&1315580006549815306>",
    "amee": "<@&1316342133698854944>",
    "Sunnie": "<@&1316342244676210729>",
    "Yumari": "<@&1318494118770638858>",
    "silversoul": "<@&1318494169471127552>",
    "ciasuraimu": "<@&1323168986044563561>",
    "Yijuan": "<@&1323169058706690106",
    "emberblood": "<@&1323169218262335519>",
    "Beryline": "<@&1323169289058127944>",
    "Sia": "<@&1323169355948752967>",
    "Thyllia": "<@&1341625811828215819>",
    "kuro": "<@&1341625880845221919>",
    "Niang'er": "<@&1341672245407256577>",
    "Wolffy": "<@&1341672309781565551>",
    "Eris81194": "<@&1359458280644284449>"
}

def get_translator(title):
    """
    Determines the translator based on the title by iterating through
    TRANSLATOR_NOVEL_MAP. Returns the translator's name if a match is found,
    otherwise returns None.
    """
    for translator, novels in TRANSLATOR_NOVEL_MAP.items():
        for novel in novels:
            if novel in title:
                return translator
    return None

def get_featured_image(title):
    """
    Determines the featured image URL based on the title.
    Explicit if-statements are used for each novel. Replace the placeholder URLs
    with the actual image links later.
    If no image is found, returns an empty string.
    """
    if "Quick Transmigration: The Villain Is Too Pampered and Alluring" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/08/177838.jpg"
    if "People who eat melon are in 70" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/08/051115320281.jpg"
    if "Help others? It’s better to help yourself" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/09/p2oe6e7b1cf7089dd2a93d9de5610195b4etplv-resize_225_0.jpeg"
    if "Fever Break" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/09/fever.jpeg"
    if "My Husband Became the Most Powerful Minister" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/09/MHHM.jpg"
    if "Rebirth of the Excellent Daughter of the Marquis Household (REDMH)" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/08/Rebirth-of-the-Excellent-Daughter-of-the-Marquis-Household.jpg"
    if "The Eldest Legitimate Daughter is Both Beautiful and Valiant (ELDBBV)" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/08/35024s.jpg"
    if "After Rebirth, I Married my Archenemy" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/10/20240408222407_200_280.jpg"
    if "Giving Interstellar Players a Horror Ghost Game Shock" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/11/p2o7cde861d43970ef6d4b238d990d1af35tplv-resize_225_0.png"
    if "Transmigrated into the Villain's Cannon Fodder Ex-Wife (Transmigrated into a Book)" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/11/332274s-1.jpg"
    if "To Those Who Regretted After I Died" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/10/COVER2.jpg"
    if "Phoenix Girl in the 1990s" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/08/Phoenix-Girl-in-the-90s-Cover-OG.png"
    if "I Am Being Mistaken for a Genius Strategist" in title:
        return "https://dragonholic.com/wp-content/uploads/2025/01/IABMGS-Cover.jpg"
    if "The Wind Heard Her Confession" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/11/5777c31e83d6f0b5.jpg"
    if "After Retirement, Living a Stud Life in Another World" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/11/stud-life.jpeg"
    if "Bondage and Marriage" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/11/Bondage.jpg"
    if "Clap" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/11/clap.jpg"
    if "Double Junk" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/11/double-skin.jpg"
    if "I Have been Reincarnated As a Lazy, Arrogant Noble, but When I Destroyed The Scenario Through Effort, I Became The Most Powerful With Extraordinary Magical Power" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/11/weiss.jpg"
    if "My Bloody Valentine" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/11/My-Bloody-Valentine.jpg"
    if "Reasonable Loss" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/11/reasonable-loss.jpg"
    if "Red Dot" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/11/Red-Dot.jpg"
    if "The Goddess Granted Me the [Hatching] Skill and Somehow I Became the Strongest Tamer, Commanding Mythical and Divine Beasts" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/11/hatch-phoenix.jpg"
    if "The Tyrant's Happy Ending" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/10/ty.jpg"
    if "When I started High School, My Childhood Friend, who had suddenly become distant and cold, was harassed by a stranger. I stepped in to help, and as a result, from the following day, My Childhood Friend's behavior became unusual." in title:
        return "https://dragonholic.com/wp-content/uploads/2024/11/highschool.jpg"
    if "A Forest flowing with Milk and Honey" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/10/forest.jpg"
    if "The Sickly Villainess: No, I Wasn’t Poisoned! I'm Just Frail!" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/11/sickly.jpg"
    if "Zion's Garden" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/11/zions-garden.jpg"
    if "The Young Male Protagonist Who is Destined for Ruin Fell for Me" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/10/young-protagonist-102624.jpg"
    if "The Final Task of the Forsaken Saint: A Command to Marry the Barbarian Count" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/11/bAbarian.jpg"
    if "When the Mid-Boss Villainous Noble Recalls Memories of a Past Life and Gains Game Knowledge. I Will Never Accept a Future Where I'm Called the Jealous Earl" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/11/boss.jpg"
    if "Legend Of The Frost Blade" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/11/Screenshot-2024-10-27-at-6.16.41 PM-1.jpg"
    if "Global Descent to Sky Islands: Getting a God-level Talent from the Start" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/12/image_2024-12-07_151830286.png"
    if "Diary of my Ex" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/11/9081b7c3f61d976fd2e16d91ae58f04d.jpeg"
    if "Gloria von Caldwell's Condemnation and Revenge" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/12/file-7TuN1ag8iWABh9WqdMESHF.webp"
    if "After Transmigrating, I and the Female Lead Both Found It 'Really Fragrant' (GL)" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/11/download-1.jpeg"
    if "The Female Lead is Looking at Me Differently (GL)" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/10/download-3.jpeg"
    if "A Moment Too Late (GL)" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/08/images-1.jpeg"
    if "The Male Lead's Harem Belongs to Me (GL)" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/11/novelimage-10.png"
    if "After Transmigrating, I Married the Male Lead’s Sister (GL)" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/11/novelimage-9.png"
    if "Confession to You in Early Summer (GL)" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/12/20201118203028_200_280.jpg"
    if "Guide to the Fallen World" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/11/images-3.jpeg"
    if "Osratida" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/08/IMG_20240822_061109_743.jpg"
    if "The Three baby mining brothers" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/12/FZMzZOtUIAEv62-.jpg"
    if "After Marrying the Disabled Prince (BG)" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/12/143300s.jpg"
    if "I Want to Avoid the Bad Ending" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/10/xxlarge.webp"
    if "If You Want To Frame Me As a Villainess, I Will Be The Villainess. However." in title:
        return "https://dragonholic.com/wp-content/uploads/2024/11/悪役令嬢に仕立て上げたいのならば、悪役令嬢になってあげましょう。ただし。.jpg"
    if "Waiting for the Stars to Fall" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/12/s33790513.jpg"
    if "I Am Just Sad That I Can’t Grow Old With You" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/12/s34911597.jpg"
    if "In this life, I will no longer be a scumbag to my childhood sweetheart" in title:
        return "https://placeholder.com/image_no_longer_scumbag"
    if "Little Blind Girl" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/11/The-Blind-Girl.jpg"
    if "With Multiple Babies, Who Still Wants to Be the Marquess’s Wife?" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/09/cover.jpg"
    if "The Young Marquis Regrets Too Late" in title:
        return "https://dragonholic.com/wp-content/uploads/2024/12/20241207081825_200_280.jpg"
    if "The Unspoken Vow" in title:
        return "https://dragonholic.com/wp-content/uploads/2025/01/xxlarge.webp"
    if "Mistakenly Treated The Princess As A Concubine" in title:
        return "https://dragonholic.com/wp-content/uploads/2025/01/20240429163423_200_280.jpg"
    if "Honkai: Star Rail, My Journey with Tom" in title:
        return "https://dragonholic.com/wp-content/uploads/2025/02/Star-rail-novel-cover.jpg"
    if "Proof of the Demon Lord's Innocence" in title:
        return "https://dragonholic.com/wp-content/uploads/2025/01/魔王陛下の無罪証明.jpg"
    if "Did Mrs. Sheng Got Divorced Today?" in title:
        return "https://dragonholic.com/wp-content/uploads/2025/03/2368667.jpg"
    if "The Strongest Delivery Man" in title:
        return "https://dragonholic.com/wp-content/uploads/2025/03/IMG_2420.webp"
    if "Sweet Hunting Ground [GB]" in title:
        return "https://dragonholic.com/wp-content/uploads/2025/03/IMG_2433.jpeg"
    
    # If no image is found for the novel, return an empty string.
    return ""

def get_discord_role_id(translator):
    """
    Returns the Discord role ID for the given translator.
    If no role ID is found, returns an empty string.
    """
    return DISCORD_ROLE_ID_MAP.get(translator, "")

# URL overrides for novels – fill in the correct URL for each novel as needed.
NOVEL_URL_OVERRIDES = {
    "Help others? It’s better to help yourself": "https://dragonholic.com/novel/helping-others-its-better-to-help-yourself/",
    "Rebirth of the Excellent Daughter of the Marquis Household (REDMH)": "https://dragonholic.com/novel/redmh/",
    "The Eldest Legitimate Daughter is Both Beautiful and Valiant (ELDBBV)": "https://dragonholic.com/novel/eldbbv/",
    "Transmigrated into the Villain's Cannon Fodder Ex-Wife (Transmigrated into a Book)": "https://dragonholic.com/novel/transmigrated-as-the-villains-cannon-fodder-ex-wife/",
    "When I started High School, My Childhood Friend, who had suddenly become distant and cold, was harassed by a stranger. I stepped in to help, and as a result, from the following day, My Childhood Friend's behavior became unusual.": "https://dragonholic.com/novel/when-i-started-high-school-my-childhood-friend-who-had-suddenly-become-distant-and-cold-was-harassed-by-a-stranger-i-stepped-in-to-help-and-as-a-result-from-the-following-day-my-childhood-frien/",
    "The Female Lead is Looking at Me Differently (GL)": "https://dragonholic.com/novel/the-female-lead-is-looking-at-me-differently/",
    "A Moment Too Late (GL)": "https://dragonholic.com/novel/gl-a-moment-too-late/",
    "After Marrying the Disabled Prince (BG)": "https://dragonholic.com/novel/after-marrying-the-disabled-prince/",
    "The Strongest Delivery Man": "https://dragonholic.com/novel/the-strongest-delivery-guy/"
}

def get_novel_url(title):
    """
    Returns the main page URL for the given novel title.
    First checks NOVEL_URL_OVERRIDES for a manual override.
    If none exists, constructs the URL using a slug.
    """
    if title in NOVEL_URL_OVERRIDES and NOVEL_URL_OVERRIDES[title]:
        return NOVEL_URL_OVERRIDES[title]
    # Fallback: create URL from slug
    def slugify(text):
        text = text.lower()
        import re
        text = re.sub(r'[^\w\s-]', '', text)
        return re.sub(r'[\s]+', '-', text)
    return f"https://dragonholic.com/novel/{slugify(title)}/"
    
def get_nsfw_novels():
    """
    Returns a list of NSFW novel titles
    """
    return [
        "Bondage and Marriage",
        "Clap",
        "Double Junk",
        "My Bloody Valentine",
        "Reasonable Loss",
        "Red Dot",
        "The Tyrant's Happy Ending",
        "A Forest flowing with Milk and Honey",
        "Zion's Garden",
        "Diary of my Ex",
        "Osratida",
        "The Three baby mining brothers",
        "Little Blind Girl",
        "The Young Marquis Regrets Too Late"
    ]
